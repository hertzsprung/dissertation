clean:: clean-plots

# $(1) -- filename (without suffix)
define GNUPLOT_TEMPLATE

clean-plots:: clean-$(1)

clean-$(1):
	$(RM) $(1)-plot.tex $(1).eps $(1)-eps-converted-to.pdf

$(1)-plot.tex: $(1).plt
	$(GNUPLOT) -p -e "set output '$$@'; load '$$<'" 

endef

$(eval $(call GNUPLOT_TEMPLATE,btf))
$(eval $(call GNUPLOT_TEMPLATE,sleve))
$(eval $(call GNUPLOT_TEMPLATE,advection-initial))
$(eval $(call GNUPLOT_TEMPLATE,advection-noOrography-analytic-contour))
$(eval $(call GNUPLOT_TEMPLATE,advection-btf-schaerCos-vanLeer-contour))
$(eval $(call GNUPLOT_TEMPLATE,advection-btf-schaerCos-tvdLimitedCubicUpwindCPCFit-contour))
$(eval $(call GNUPLOT_TEMPLATE,advection-sleve-schaerCos-vanLeer-contour))
$(eval $(call GNUPLOT_TEMPLATE,advection-snapCol-schaerCos-vanLeer-contour))

btf.plt: tf.plt
sleve.plt: tf.plt
